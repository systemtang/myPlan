<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="X_UA_Compatible" content="ie=edge" />
	<title>add plan</title>
	
	<script type="text/javascript" src="js/jquery-1.8.0.min.js"></script>
</head>
<body>
	<form id="addPlanForm">
		<input name="itemSize" type="hidden" value="3" />
		主任务名：<input name="planName" type="text" /><br/>
		次任务名：<input name="itemName1" type="text" />分数：<input name="itemPoint1" type="text" placeholder="为空默认给0" /><br/>
		次任务名：<input name="itemName2" type="text" />分数：<input name="itemPoint2" type="text" placeholder="为空默认给0" /><br/>
		次任务名：<input name="itemName3" type="text" />分数：<input name="itemPoint3" type="text" placeholder="为空默认给0" /><br/>
		<button onclick="savePlan()">保存</button><button>继续添加</button>
	</form>
	
	<script type="text/javascript">
	function savePlan(){
		var err = checkPlan();
		if(err != ""){
			alert(err);
			return false;
		}
	}
	
	function checkPlan(){
		var err = "";
		
		var itemSize = $("#itemSize").val();
		if(!itemSize || itemSize <= 0){
			err = "子任务数量为0";
			return err;
		}
		
		var planName = $("#planName").val();
		if(!planName){
			err = "任务名不能为空";
			return err;
		}
		
		var itemNameInput = $("input[name^='itemName']");
		itemNameInput.each(function(i,val){
			if(!val.value){
				err = "子任务名不能为空";
				return err;
			}
		});
	}
	/* 
	var arr[]; 
	$(":input[name='inp']").each(function(){ 
		arr.push($(this).val()); 
	});
	*/
	</script>
</body>
</html>